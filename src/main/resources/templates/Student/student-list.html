<!-- templates/student-list.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title>Students</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<h1>Danh sách sinh viên</h1>

<p th:if="${msg}" th:text="${msg}" style="color: green;"></p>

<form method="get" th:action="@{/students}">
    <label>
        <input type="text" name="q" placeholder="Tìm tên..." th:value="${q}">
    </label>
    <button type="submit">Tìm</button>
</form>

<p><a th:href="@{/students/new}">+ Thêm sinh viên</a></p>

<table>
    <thead>
    <tr>
        <th>ID</th>
        <th>Họ tên</th>
        <th>Lớp</th>
<!--        <th>Ngành</th>-->
        <th>GPA</th>
        <th>Hành động</th>
    </tr>
    </thead>
    <tbody>
    <tr th:each="s : ${students}">
        <td th:text="${s.id}">1</td>
        <td th:text="${s.name}">Nguyen Van A</td>
        <td th:text="${s.classroom.name}">10A10</td>
<!--        <td th:text="${s.major}">CS</td>-->
        <td th:text="${s.gpa}">3.5</td>
        <td>
            <a th:href="@{|/students/${s.id}|}">Xem</a> |
            <a th:href="@{|/students/${s.id}/edit|}">Sửa</a> |
            <form th:action="@{|/students/${s.id}/delete|}" method="post" style="display:inline">
                <button type="submit"
                        th:onclick="|return confirm('Xoá sinh viên #${s.id}?')|">
                    Xoá
                </button>
            </form>
        </td>
    </tr>
    <tr th:if="${#lists.isEmpty(students)}">
        <td colspan="6">Không có dữ liệu</td>
    </tr>
    </tbody>
</table>

<div th:if="${page != null}">
    <a th:if="${!page.first}"
       th:href="@{/students(page=${page.number - 1}, size=${page.size}, q=${q}, sort=${sort})}">« Prev</a>
    <span th:text="${page.number + 1}">1</span>/<span th:text="${page.totalPages}">1</span>
    <a th:if="${!page.last}"
       th:href="@{/students(page=${page.number + 1}, size=${page.size}, q=${q}, sort=${sort})}">Next »</a>
</div>

</body>
</html>
